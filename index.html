<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DeutschMeister Pro | C1 Blueprint</title>
    
    <!-- Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap');
        body { font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; overflow-x: hidden; }
        .glass { background: rgba(255, 255, 255, 0.7); backdrop-filter: blur(10px); }
        .card-shadow { box-shadow: 0 20px 40px -15px rgba(0,0,0,0.1); }
        .animate-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .no-scrollbar::-webkit-scrollbar { display: none; }
    </style>
</head>
<body class="bg-[#F8FAFC]">
    <div id="root"></div>

    <!-- FIREBASE SYSTEM -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut, signInAnonymously } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js";
        import { getFirestore, doc, setDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyBRAeIilgqixdDrBQFThpx00D2Te0gPuY0",
            authDomain: "deutschmeister-489ea.firebaseapp.com",
            projectId: "deutschmeister-489ea",
            storageBucket: "deutschmeister-489ea.firebasestorage.app",
            messagingSenderId: "82755973685",
            appId: "1:82755973685:web:3413021c19d391107a777c",
            measurementId: "G-3HD3BYTV1M"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const analytics = getAnalytics(app);
        const provider = new GoogleAuthProvider();

        window.APP_CORE = { 
            auth, db, provider, signInWithPopup, signOut, 
            onAuthStateChanged, signInAnonymously, doc, setDoc, onSnapshot 
        };
    </script>

    <!-- REACT APPLICATION -->
    <script type="text/babel">
        const { useState, useEffect, useMemo, useCallback } = React;

        const PHASES = [
            { id: 0, level: 'A1', name: '–ó–∞–∫–ª–∞–¥–∫–∞ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞', days: 90, res: 'Nicos Weg A1', tasksA: [{id:'a1_1', title:'Nicos Weg: –ê–Ω–∞–ª–∏–∑', time:20, type:'Input'}, {id:'a1_2', title:'Anki: –ù–æ–≤—ã–µ –∫–∞—Ä—Ç—ã', time:10, type:'Memory'}, {id:'a1_3', title:'V2 Rule: –°–∏–Ω—Ç–∞–∫—Å–∏—Å', time:10, type:'Study'}], tasksB: [{id:'b1_1', title:'Shadowing (NW)', time:15, type:'Output'}, {id:'b1_2', title:'Anki: –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ', time:15, type:'Memory'}, {id:'b1_3', title:'SST: –ú–æ–Ω–æ–ª–æ–≥', time:10, type:'Output'}] },
            { id: 1, level: 'A2', name: '–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –∫–∞—Ä–∫–∞—Å–∞', days: 90, res: 'Nicos Weg A2', tasksA: [{id:'a2_1', title:'Perfekt: –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞', time:20, type:'Input'}, {id:'a2_2', title:'Dino lernt Deutsch', time:15, type:'Input'}, {id:'a2_3', title:'Anki: –ù–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã', time:5, type:'Memory'}], tasksB: [{id:'b2_1', title:'–°–∏–Ω—Ç–µ–∑: –ú–æ–π –≤—á–µ—Ä–∞', time:20, type:'Output'}, {id:'b2_2', title:'Anki: –°–µ—Ç', time:15, type:'Memory'}, {id:'b2_3', title:'ChatGPT: –ü—Ä–æ–≤–µ—Ä–∫–∞', time:5, type:'Output'}] },
            { id: 2, level: 'B1', name: '–ü—Ä–µ–æ–¥–æ–ª–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞', days: 150, res: 'Easy German Podcast', tasksA: [{id:'a3_1', title:'Intensive Reading', time:25, type:'Input'}, {id:'a3_2', title:'Anki: –ö–æ–ª–ª–æ–∫–∞—Ü–∏–∏', time:10, type:'Memory'}, {id:'a3_3', title:'Nebens√§tze: –ê–Ω–∞–ª–∏–∑', time:5, type:'Study'}], tasksB: [{id:'b3_1', title:'–ê—Ä–≥—É–º–µ–Ω—Ç–∞—Ü–∏—è (Weil)', time:20, type:'Output'}, {id:'b3_2', title:'Shadowing: Podcast', time:15, type:'Output'}, {id:'b3_3', title:'Anki: –°–µ—Ç', time:5, type:'Memory'}] },
            { id: 3, level: 'B2', name: '–ò–º–º–µ—Ä—Å–∏—è', days: 120, res: '–†–æ–º–∞–Ω: Tschick', tasksA: [{id:'a4_1', title:'Tschick: –ß—Ç–µ–Ω–∏–µ', time:25, type:'Input'}, {id:'a4_2', title:'B2 Vocabulary Anki', time:10, type:'Memory'}, {id:'a4_3', title:'Passiv: –ê–Ω–∞–ª–∏–∑', time:5, type:'Study'}], tasksB: [{id:'b4_1', title:'–†–µ—Ü–µ–Ω–∑–∏—è –Ω–∞ –≥–ª–∞–≤—É', time:20, type:'Output'}, {id:'b4_2', title:'–î–µ–±–∞—Ç—ã (ChatGPT)', time:15, type:'Output'}, {id:'b4_3', title:'Anki: –ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ', time:5, type:'Memory'}] },
            { id: 4, level: 'C1', name: '–ú–∞—Å—Ç–µ—Ä—Å—Ç–≤–æ', days: 97, res: 'Die Zeit', tasksA: [{id:'a5_1', title:'Die Zeit: –ê–Ω–∞–ª–∏–∑', time:25, type:'Input'}, {id:'a5_2', title:'–ê–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–π –≤–æ–∫–∞–±', time:10, type:'Memory'}, {id:'a5_3', title:'TestDaF: Leseverstehen', time:5, type:'Study'}], tasksB: [{id:'b5_1', title:'–ü–∏—Å—å–º–æ C1 (–¢–∞–π–º–µ—Ä)', time:25, type:'Output'}, {id:'b5_2', title:'–ú–æ–Ω–æ–ª–æ–≥ C1', time:10, type:'Output'}, {id:'b5_3', title:'Anki: –§–∏–Ω–∞–ª', time:5, type:'Memory'}] }
        ];

        function App() {
            const [user, setUser] = useState(null);
            const [view, setView] = useState('home');
            const [copyStatus, setCopyStatus] = useState(false);
            const [state, setState] = useState({ currentPhaseId: 0, completedTasks: [], streak: 0, startDate: new Date().toISOString(), lastActivity: new Date().toDateString(), autoAdvance: true });

            // Initialize Auth (Rule 3)
            useEffect(() => {
                const interval = setInterval(() => {
                    if (window.APP_CORE) {
                        clearInterval(interval);
                        window.APP_CORE.onAuthStateChanged(window.APP_CORE.auth, (u) => {
                            if (!u) window.APP_CORE.signInAnonymously(window.APP_CORE.auth);
                            setUser(u);
                        });
                    }
                }, 50);
                return () => clearInterval(interval);
            }, []);

            // Firestore Sync (Rule 1)
            useEffect(() => {
                if (!user || !window.APP_CORE) return;
                const path = window.APP_CORE.doc(window.APP_CORE.db, "artifacts", "german-v1", "users", user.uid, "settings", "state");
                const unsub = window.APP_CORE.onSnapshot(path, (snap) => {
                    if (snap.exists()) setState(prev => ({ ...prev, ...snap.data() }));
                });
                return () => unsub();
            }, [user]);

            const save = (ns) => {
                if (!user || user.isAnonymous || !window.APP_CORE) return;
                const path = window.APP_CORE.doc(window.APP_CORE.db, "artifacts", "german-v1", "users", user.uid, "settings", "state");
                window.APP_CORE.setDoc(path, ns);
            };

            const toggleTask = (id) => {
                const isDone = state.completedTasks.includes(id);
                const nt = isDone ? state.completedTasks.filter(t => t !== id) : [...state.completedTasks, id];
                const today = new Date().toDateString();
                let ns = state.streak;
                if (!isDone && state.lastActivity !== today) ns += 1;
                const newState = { ...state, completedTasks: nt, lastActivity: today, streak: ns };
                setState(newState);
                save(newState);
            };

            const daysPassed = useMemo(() => {
                return Math.max(0, Math.floor((new Date() - new Date(state.startDate)) / 86400000));
            }, [state.startDate]);

            const isDayA = daysPassed % 2 === 0;
            const currentPhase = PHASES[state.currentPhaseId];
            const activeTasks = isDayA ? currentPhase.tasksA : currentPhase.tasksB;

            const copyPrompt = () => {
                const p = `–¢—ã –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π DaF-–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å. –Ø –Ω–∞ —É—Ä–æ–≤–Ω–µ ${currentPhase.level}. –ò—Å–ø—Ä–∞–≤–ª—è–π –º–æ–∏ –æ—à–∏–±–∫–∏, –æ–±—ä—è—Å–Ω—è–π –ø—Ä–∞–≤–∏–ª–∞ –∏ —É–∫–∞–∑—ã–≤–∞–π —Ä–æ–¥ (der/die/das).`;
                navigator.clipboard.writeText(p);
                setCopyStatus(true);
                setTimeout(() => setCopyStatus(false), 2000);
            };

            const handleProfileClick = async () => {
                if (user?.isAnonymous) {
                    try {
                        await window.APP_CORE.signInWithPopup(window.APP_CORE.auth, window.APP_CORE.provider);
                    } catch (e) { alert("–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: –î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –¥–æ–º–µ–Ω –≤ Authorized Domains –≤ Firebase!"); }
                } else {
                    if (confirm("–í—ã–π—Ç–∏ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞?")) window.APP_CORE.signOut(window.APP_CORE.auth);
                }
            };

            return (
                <div className="max-w-md mx-auto min-h-screen flex flex-col pb-28">
                    {/* TOP NAVBAR */}
                    <header className="bg-white/90 p-5 flex justify-between items-center sticky top-0 z-50 border-b border-slate-100 backdrop-blur-md">
                        <div className="flex items-center gap-3">
                            <div className="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-indigo-200">
                                <span className="text-white font-black text-xl">D</span>
                            </div>
                            <div>
                                <h1 className="text-lg font-black tracking-tighter">MEISTER</h1>
                                <p className="text-[9px] text-slate-400 font-bold uppercase tracking-widest">Day {daysPassed + 1}/547</p>
                            </div>
                        </div>
                        <button 
                            onClick={handleProfileClick}
                            className={`w-11 h-11 rounded-2xl border-2 flex items-center justify-center transition-all active:scale-90 shadow-sm ${user?.isAnonymous ? 'bg-slate-50 border-slate-200' : 'bg-indigo-50 border-indigo-200'}`}
                        >
                            {user?.photoURL ? (
                                <img src={user.photoURL} className="w-full h-full rounded-2xl" />
                            ) : (
                                <span className="text-lg opacity-50">üë§</span>
                            )}
                        </button>
                    </header>

                    <main className="p-6 flex-grow overflow-y-auto no-scrollbar">
                        {/* Plateau Warning */}
                        {daysPassed >= 240 && daysPassed <= 254 && (
                            <div className="bg-orange-50 border border-orange-200 p-4 rounded-3xl mb-6 flex gap-3 animate-in">
                                <span className="text-xl">‚ö†Ô∏è</span>
                                <p className="text-[11px] text-orange-800 leading-relaxed font-medium"><strong>B1 Plateau:</strong> –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω 2-–Ω–µ–¥–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤ –æ—Ç Anki. –¢–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ –∏ –≤–∏–¥–µ–æ.</p>
                            </div>
                        )}

                        {view === 'home' && (
                            <div className="space-y-6 animate-in">
                                <div className="flex justify-between items-end">
                                    <div className="space-y-1">
                                        <p className="text-[10px] font-black text-indigo-500 uppercase tracking-widest">{isDayA ? '–¶–∏–∫–ª A: Input' : '–¶–∏–∫–ª B: Output'}</p>
                                        <h2 className="text-2xl font-black text-slate-800 leading-tight">–ü–ª–∞–Ω –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</h2>
                                    </div>
                                    <div className="flex flex-col items-end gap-1">
                                        <span className="text-[10px] font-black text-white bg-indigo-600 px-3 py-1 rounded-full shadow-md uppercase">{currentPhase.level}</span>
                                        <span className="text-[10px] text-orange-500 font-black">üî• {state.streak} TAGE</span>
                                    </div>
                                </div>

                                <div className="bg-slate-900 rounded-[2.5rem] p-8 text-white shadow-2xl relative overflow-hidden group">
                                    <div className="relative z-10 space-y-4">
                                        <h3 className="text-2xl font-black mb-6">40 –ú–∏–Ω—É—Ç <span className="text-indigo-400 uppercase tracking-tighter">–ò–Ω—Ç–µ–Ω—Å–∏–≤–∞</span></h3>
                                        {activeTasks.map(t => (
                                            <div key={t.id} onClick={() => toggleTask(t.id)} className="flex items-center gap-4 bg-white/5 p-4 rounded-3xl border border-white/5 cursor-pointer hover:bg-white/10 transition-all active:scale-95 group">
                                                <div className={`w-8 h-8 rounded-xl border-2 flex items-center justify-center transition-all ${state.completedTasks.includes(t.id) ? 'bg-indigo-500 border-indigo-500 shadow-lg' : 'border-white/20'}`}>
                                                    {state.completedTasks.includes(t.id) && <span className="text-white text-xs">‚úì</span>}
                                                </div>
                                                <div className="flex-grow">
                                                    <p className={`font-bold text-sm ${state.completedTasks.includes(t.id) ? 'line-through opacity-30 text-slate-400' : ''}`}>{t.title}</p>
                                                    <p className="text-[9px] font-bold text-white/40 uppercase tracking-widest mt-1">{t.time} –ú–ò–ù ‚Ä¢ {t.type}</p>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                    <div className="absolute -bottom-10 -right-10 w-48 h-48 bg-indigo-500/20 blur-[80px] rounded-full transition-all group-hover:scale-110"></div>
                                </div>

                                <div className="bg-white p-7 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-4">
                                    <p className="text-[10px] font-black text-slate-400 uppercase tracking-widest">–ú–µ—Ç–æ–¥–∏—á–µ—Å–∫–∏–π —Ñ–æ–∫—É—Å</p>
                                    <div className="flex gap-4">
                                        <div className={`flex-1 p-4 rounded-3xl border transition-all ${isDayA ? 'bg-indigo-50 border-indigo-200' : 'bg-slate-50 opacity-50'}`}>
                                            <p className="text-[9px] font-bold text-indigo-700 uppercase mb-1">–î–µ–Ω—å –ê</p>
                                            <p className="text-[10px] text-slate-600 leading-tight">–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ, –∞–Ω–∞–ª–∏–∑ —Ç–µ–∫—Å—Ç–∞.</p>
                                        </div>
                                        <div className={`flex-1 p-4 rounded-3xl border transition-all ${!isDayA ? 'bg-emerald-50 border-emerald-200' : 'bg-slate-50 opacity-50'}`}>
                                            <p className="text-[9px] font-bold text-emerald-700 uppercase mb-1">–î–µ–Ω—å –ë</p>
                                            <p className="text-[10px] text-slate-600 leading-tight">–ê–∫—Ç–∏–≤–∞—Ü–∏—è, —Ä–µ—á—å, Shadowing.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {view === 'map' && (
                            <div className="space-y-4 animate-in">
                                <h2 className="text-2xl font-black mb-6">–î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞</h2>
                                {PHASES.map(p => (
                                    <div key={p.id} onClick={() => { if(confirm('–°–º–µ–Ω–∏—Ç—å —ç—Ç–∞–ø –≤—Ä—É—á–Ω—É—é?')) { const ns = {...state, currentPhaseId: p.id}; setState(ns); save(ns); setView('home'); } }} className={`p-6 rounded-[2rem] border-2 transition-all cursor-pointer relative ${state.currentPhaseId === p.id ? 'bg-indigo-600 text-white border-indigo-500 shadow-xl scale-[1.02]' : 'bg-white border-slate-100 opacity-60'}`}>
                                        <div className="flex justify-between items-center mb-2">
                                            <span className="text-[10px] font-black uppercase tracking-tighter">{p.days} TAGE</span>
                                            <span className="font-black text-xl">{p.level}</span>
                                        </div>
                                        <h3 className="font-black text-lg">{p.name}</h3>
                                        <p className="text-[11px] opacity-80 mt-1">{p.res}</p>
                                    </div>
                                ))}
                            </div>
                        )}

                        {view === 'method' && (
                            <div className="space-y-6 animate-in">
                                <h2 className="text-2xl font-black px-1">–ì–∞–π–¥ C1</h2>
                                <div className="bg-slate-900 p-8 rounded-[2.5rem] text-white space-y-5 shadow-2xl">
                                    <h4 className="font-black text-sm uppercase tracking-widest text-indigo-400">ChatGPT Tutor</h4>
                                    <p className="text-[11px] text-slate-400 leading-relaxed italic">–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ò–ò-–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –Ω–∞ –≤–∞—à —É—Ä–æ–≤–µ–Ω—å ({currentPhase.level}).</p>
                                    <button 
                                        onClick={copyPrompt}
                                        className="w-full bg-indigo-600 py-4 rounded-2xl text-[10px] font-black uppercase tracking-widest transition-all active:scale-95 shadow-lg shadow-indigo-600/20"
                                    >
                                        {copyStatus ? '–ì–û–¢–û–í–û –ö –í–°–¢–ê–í–ö–ï!' : '–°–ö–û–ü–ò–†–û–í–ê–¢–¨ –ü–†–û–ú–ü–¢'}
                                    </button>
                                </div>
                                <div className="bg-white p-7 rounded-[2.5rem] border border-slate-100 space-y-4 shadow-sm">
                                    <h4 className="font-black text-indigo-600 uppercase text-[10px] tracking-widest">Anki: –†–æ–¥–∞ (Gender)</h4>
                                    <div className="flex gap-2">
                                        <span className="flex-1 p-2 bg-blue-500 rounded-xl text-[8px] font-black text-white text-center">DER (M)</span>
                                        <span className="flex-1 p-2 bg-red-500 rounded-xl text-[8px] font-black text-white text-center">DIE (F)</span>
                                        <span className="flex-1 p-2 bg-emerald-500 rounded-xl text-[8px] font-black text-white text-center">DAS (N)</span>
                                    </div>
                                    <p className="text-[10px] text-slate-400 leading-relaxed">–ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å—Ç–∏–ª–∏ CSS –≤ Anki, —á—Ç–æ–±—ã —Å–ª–æ–≤–∞ –æ–∫—Ä–∞—à–∏–≤–∞–ª–∏—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –£—á–∏—Ç–µ —Å–ª–æ–≤–∞ <strong>—Ç–æ–ª—å–∫–æ</strong> —Å –∞—Ä—Ç–∏–∫–ª–µ–º.</p>
                                </div>
                            </div>
                        )}

                        {view === 'settings' && (
                          <div className="space-y-6 animate-in">
                              <h2 className="text-2xl font-black px-1">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
                              <div className="bg-white p-8 rounded-[2.5rem] border border-slate-100 shadow-sm space-y-4 text-center">
                                  <div className="p-4 bg-indigo-50 rounded-3xl border border-indigo-100 mb-2">
                                      <p className="text-[10px] font-black text-indigo-600 uppercase tracking-widest">Cloud Sync</p>
                                      <p className="text-[11px] text-slate-500 mt-1">{user?.isAnonymous ? '–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ. –í–æ–π–¥–∏—Ç–µ –¥–ª—è –æ–±–ª–∞—á–Ω–æ–≥–æ –±–µ–∫–∞–ø–∞.' : '–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å Google.'}</p>
                                  </div>
                                  <button onClick={() => window.open(`https://www.google.com/calendar/render?action=TEMPLATE&text=DeutschMeister%2040min&recur=RRULE:FREQ=DAILY`, '_blank')} className="w-full flex items-center justify-between p-4 bg-slate-900 rounded-2xl text-white font-bold text-[10px] uppercase tracking-widest transition-all active:scale-95">
                                      <span>Google Calendar Sync</span>
                                      <span>üìÖ</span>
                                  </button>
                                  <button onClick={() => { if(confirm('–°–±—Ä–æ—Å–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å? –≠—Ç–æ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.')) { const ns = { ...state, startDate: new Date().toISOString(), currentPhaseId: 0, streak: 0, completedTasks: [] }; setState(ns); save(ns); } }} className="w-full p-4 text-center text-rose-500 font-bold text-[10px] uppercase tracking-widest bg-rose-50 rounded-2xl border border-rose-100 transition-all active:scale-95">–°–±—Ä–æ—Å–∏—Ç—å –æ–±—É—á–µ–Ω–∏–µ</button>
                              </div>
                          </div>
                        )}
                    </main>

                    {/* BOTTOM NAV */}
                    <nav className="fixed bottom-0 left-0 right-0 glass border-t border-slate-100 px-8 pb-10 pt-4 z-50 rounded-t-[2.5rem]">
                        <div className="max-w-md mx-auto flex justify-between items-center">
                            <button onClick={() => setView('home')} className={`flex flex-col items-center gap-1 transition-all ${view === 'home' ? 'text-indigo-600 scale-110' : 'text-slate-400 opacity-50'}`}><span className="text-xl">‚ö°</span><span className="text-[8px] font-black uppercase">–ü–ª–∞–Ω</span></button>
                            <button onClick={() => setView('map')} className={`flex flex-col items-center gap-1 transition-all ${view === 'map' ? 'text-indigo-600 scale-110' : 'text-slate-400 opacity-50'}`}><span className="text-xl">üó∫Ô∏è</span><span className="text-[8px] font-black uppercase">–ö–∞—Ä—Ç–∞</span></button>
                            <button onClick={() => setView('guide')} className={`flex flex-col items-center gap-1 transition-all ${view === 'guide' ? 'text-indigo-600 scale-110' : 'text-slate-400 opacity-50'}`}><span className="text-xl">üìñ</span><span className="text-[8px] font-black uppercase">–ú–µ—Ç–æ–¥</span></button>
                            <button onClick={() => setView('settings')} className={`flex flex-col items-center gap-1 transition-all ${view === 'settings' ? 'text-indigo-600 scale-110' : 'text-slate-400 opacity-50'}`}><span className="text-xl">‚öôÔ∏è</span><span className="text-[8px] font-black uppercase">–û–ø—Ü–∏–∏</span></button>
                        </div>
                    </nav>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

